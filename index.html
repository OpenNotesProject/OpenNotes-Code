<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Open Notes</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;800&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">

<link rel="stylesheet" href="styles.css">
<!-- KaTeX for LaTeX rendering -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
</head>
<body>
<div class="app" role="application" aria-label="Open Notes vault">

  <!-- SIDEBAR -->
  <aside class="sidebar" aria-label="Sidebar">
    <div class="sidebar-header">
      <div class="logo" aria-hidden="true">ON</div>
      <div>
        <div class="sidebar-title">Open Notes</div>
        <div class="sidebar-sub">Study Vault</div>
      </div>
    </div>

    <div class="search-bar" role="search" aria-label="Search notes">
      <input id="globalSearch" placeholder="Search notes…" aria-label="Search notes" />
      <span class="kbd"></span>
    </div>

    <div class="subjects-dropdown" id="subjectsDropdown" aria-label="Subjects">
      <div class="subject-header">Subjects</div>
      <!-- branches injected here -->
    </div>
  </aside>

  <!-- MAIN -->
  <main class="main">
    <header class="topbar" role="banner">
      <div class="topbar-left">
        <span class="brush" aria-hidden="true">Open Notes</span>
        <div class="topbar-title" id="currentPath">Loading vault…</div>
      </div>
      <div class="topbar-right">
        <div id="status">Fetching from GitHub…</div>
        <button id="shareBtn" title="Copy link to this note">Share</button>
      </div>
    </header>

    <section class="note-view-wrap" id="noteViewWrap">
      <div class="note-card" id="noteCard">
        <nav class="breadcrumbs" id="breadcrumbs" aria-label="Breadcrumbs" style="display:none"></nav>

        <div class="note-meta">
          <span class="badge" id="noteTopic">Topic</span>
          <div id="noteInfo" style="color:var(--muted)">Select a note from the sidebar</div>
        </div>

        <h1 class="note-title" id="noteTitle">Welcome to Open Notes</h1>

        <div class="markdown" id="noteContent">
          <p>This vault reads <code>.md</code> files from a GitHub repo and renders them in a clean, Obsidian-style workspace.</p>
          <p>Structure your repo like:</p>
          <pre><code>science/
  biology/
    cells.md
    enzymes.md
  chemistry/
    bonding.md
maths/
  calculus.md
</code></pre>
          <p>If no note is selected, here are some you have viewed recently!</p>

          <div id="recentSection" style="margin-top:1rem;">
            <h3 style="margin:0 0 0.6rem 0; color:var(--muted)">Recent notes</h3>
            <div class="recent-list" id="recentList"></div>
          </div>
        </div>
      </div>

      <div class="search-results" id="searchResults" role="listbox" aria-label="Search results"></div>
    </section>
  </main>
</div>

<!-- marked for markdown rendering -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<!-- mermaid (UMD) -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<!-- KaTeX + auto-render (for LaTeX in markdown) -->
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"></script>
<!-- mhchem for chemical formulas (\ce{}) -->
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/mhchem.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"></script>

<script src="scripts.js"></script>
</body>
</html>
